# Custom_parser VS shlex

```python
# Normal
    def test_custom_parser(self):
        file_paths = glob.glob("/Users/len/log-analyer-assignment/logdata/20180824/*.txt", recursive=False)
        start_time = time.time()
        for file_path in file_paths:
            with open(str(file_path), 'r', encoding='utf8') as infile:
                lines = infile.readlines()
                for row_list in tqdm(lines):
                    a = custom_log_parser(row_list)
        print(time.time() - start_time)

        self.assertEqual([], [])
```

>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2789569/2789569 [02:35<00:00, 17979.13it/s]
>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2805010/2805010 [02:21<00:00, 19786.39it/s]
>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2690228/2690228 [03:00<00:00, 14905.02it/s]

ì•½ 8ë¶„ 



```python
    def test_shlex_parser(self):
        file_paths = glob.glob("/Users/len/log-analyer-assignment/logdata/20180824/*.txt", recursive=False)
        start_time = time.time()
        for file_path in file_paths:
            with open(str(file_path), 'r', encoding='utf8') as infile:
                lines = infile.readlines()
                for row_list in tqdm(lines):
                    a = get_the_request_api_and_last_one_and_datetime(row_list)

        print(time.time() - start_time)

        self.assertEqual([], [])
```

> 12%|â–ˆâ–        | 333477/2789569 [03:31<25:55, 1579.12it/s]
>
>í•˜ë‚˜ì— ì•½ 26ë¶„ ê·¸ëŸ¬ë¯€ë¡œ 3ê°œë©´ 1ì‹œê°„ ì˜ˆìƒ.

# ë©€í‹°ì“°ë ˆë”© VS ë©€í‹°í”„ë¡œì„¸ìŠ¤

### ë©€í‹°í”„ë¡œì„¸ìŠ¤ ìƒí™© (cf, í–‰ì•„ì›ƒì„ ì¼œë†“ì€ ìƒíƒœì—ì„œ ì§„í–‰ë¨.)

`it/s` => Insert Time / Second  

*Common* 

**ë¼ì¸ì„ íŒŒì‹± í•œ í›„-**

Outputì€ ë™ê¸°í™”ëœ í•˜ë‚˜ì˜ Listê°€ ë‚˜ì˜¨ë‹¤.

*List ë¥¼ ì•ˆí–ˆì„ ê²½ìš°*  

```
 99%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2789592/2805010 [02:54<00:00, 16029.65it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2794039/2805010 [02:54<00:00, 16043.91it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2799177/2805010 [02:54<00:00, 16064.19it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2804653/2805010 [02:54<00:00, 16086.38it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2805010/2805010 [02:54<00:00, 16085.95it/s]
178.66
```

*Listë¥¼ appendí–ˆì„ ê²½ìš°*  

```
1ë²ˆì§¸
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2802522/2805010 [22:29<00:01, 2075.98it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2802970/2805010 [22:30<00:00, 2076.16it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2803382/2805010 [22:30<00:00, 2076.23it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2803823/2805010 [22:30<00:00, 2076.41it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2804254/2805010 [22:30<00:00, 2076.57it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2804657/2805010 [22:30<00:00, 2076.69it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2805010/2805010 [22:30<00:00, 2076.84it/s]

2ë²ˆì§¸
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2801841/2805010 [18:29<00:01, 2524.32it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2802551/2805010 [18:30<00:00, 2524.69it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2803225/2805010 [18:30<00:00, 2525.05it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2803920/2805010 [18:30<00:00, 2525.45it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2804593/2805010 [18:30<00:00, 2525.74it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2805010/2805010 [18:30<00:00, 2525.88it/s]
```

## ë©€í‹°ì“°ë ˆë”©(3ê°œ)

*Listë¥¼ ì‚¬ìš© ì•ˆí–ˆì„ ê²½ìš°* 

```
 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 2664284/2789569 [00:07<00:00, 377145.39it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2690228/2690228 [00:11<00:00, 226615.12it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2805010/2805010 [00:09<00:00, 284780.62it/s]
 98%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š| 2745558/2789569 [00:07<00:00, 383870.05it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2789569/2789569 [00:08<00:00, 345637.54it/s]
36.15

ë””ë²„ê¹…ìœ¼ë¡œ ì‹¤í–‰ì‹œ :
 99%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2761917/2789569 [00:45<00:00, 60586.04it/s]
 99%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2770462/2789569 [00:45<00:00, 60626.48it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2779615/2789569 [00:45<00:00, 60693.44it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2789569/2789569 [00:45<00:00, 60784.47it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2805010/2805010 [00:45<00:00, 61459.50it/s]
Exiting Main Thread
65.96
```

*Listë¥¼ ì‚¬ìš©í•˜ê³  appendí–ˆì„ ê²½ìš°*  

```
 99%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2788969/2805010 [06:27<00:02, 7198.46it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2793281/2805010 [06:27<00:01, 7207.73it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2797397/2805010 [06:27<00:01, 7215.99it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2802001/2805010 [06:27<00:00, 7225.95it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2805010/2805010 [06:29<00:00, 7200.06it/s]

ë””ë²„ê¹…ìœ¼ë¡œ ì‹¤í–‰ì‹œ:
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2786107/2789569 [11:40<00:00, 3977.83it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2787206/2789569 [11:40<00:00, 3978.83it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2788291/2789569 [11:40<00:00, 3979.75it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2789569/2789569 [11:40<00:00, 3980.53it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2805010/2805010 [11:43<00:00, 3985.64it/s]
726.7834770679474
```

## í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ ì„¤ì •í•˜ê³  3ê°œì˜ ì“°ë ˆë“œ

*Listë¥¼ ì‚¬ìš©í•˜ê³  appendí–ˆì„ ê²½ìš°* 

```
99%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2672578/2690228 [22:10<00:08, 2009.24it/s][A[A
 96%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ| 2683970/2789569 [22:11<00:52, 2015.98it/s][A

97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹| 2716164/2805010 [23:41<00:46, 1910.37it/s]
 97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹| 2716582/2805010 [23:41<00:46, 1910.53it/s]
 97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹| 2716988/2805010 [23:42<00:46, 1910.66it/s]
 97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹| 2717419/2805010 [23:42<00:45, 1910.83it/s]
 97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹| 2717903/2805010 [23:42<00:45, 1911.04it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰| 2788819/2789569 [23:41<00:00, 1961.70it/s][A
 97%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹| 2718331/2805010 [23:42<00:45, 1911.19it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2805010/2805010 [24:03<00:00, 1943.40it/s]
```

## 2ê°œì˜ í”„ë¡œì„¸ìŠ¤, 3ê°œì˜ ì“°ë ˆë“œ

*Listë¥¼ ì‚¬ìš©í•˜ê³  appendí–ˆì„ ê²½ìš°* 

```
 1%|          | 8514/1380802 [00:08<21:39, 1056.05it/s]

  0%|          | 3627/1380802 [00:03<20:05, 1142.17it/s][A[A
  0%|          | 3263/1380802 [00:03<21:20, 1076.09it/s][A
  0%|          | 6067/1380797 [00:04<16:50, 1360.77it/s][A

  0%|          | 3268/1380802 [00:02<20:50, 1101.25it/s][A[A

  1%|          | 8652/1380802 [00:08<21:38, 1056.50it/s]
```

**REFERENCE_CODE**

1. ê°™ì€ ì½”ë“œë¼ë„ ë””ë²„ê¹…ëª¨ë“œì—ì„œì˜ Runê³¼ ì¼ë°˜ Runê³¼ëŠ” ì°¨ì´ê°€ ìˆë‹¤.
2. ê° ë¼ì¸ì— ëŒ€í•´ì„œ Dict insert ë˜ëŠ” List append ë¥¼ ì¶”ê°€ì‹œ íŒŒì¼ ì…ë ¥ì†ë„ê°€ ìµœê³  2ë°°ê¹Œì§€ ëŠë ¤ì§„ë‹¤.(ë©€í‹° í”„ë¡œì„¸ìŠ¤ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆì—ˆìŒ. ë©€í‹°í”„ë¡œì„¸ìŠ¤ì—ì„œ ê³µìœ  ìì›ì„ í™œìš©í•˜ê¸° ë•Œë¬¸)
3. ë§ì€ í”„ë¡œì„¸ìŠ¤ì™€ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•´ì„œ ì†ë„ê°€ ë¹¨ë¼ì§€ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.
4. í•˜ë‚˜ì˜ ê³µìœ ë˜ëŠ”ìì›ì´ ìˆë‹¤ë©´ ì“°ë ˆë“œë¥¼ ì“°ëŠ” ê²ƒì´ í˜„ëª…í•˜ë‹¤.

https://www.tutorialspoint.com/python3/python_multithreading.htm

https://medium.com/@bfortuner/python-multithreading-vs-multiprocessing-73072ce5600b

# Java

